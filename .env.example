# =============================================================================
# Streams MVP - Variables de entorno
# Copiar este archivo a .env y completar los valores
# =============================================================================

# --- Server ---
HOST=0.0.0.0
PORT=8787

# --- TMDB (obligatorio para buscar peliculas/series) ---
# Obtener en: https://www.themoviedb.org/settings/api
TMDB_BEARER_TOKEN=
TMDB_API_KEY=
TMDB_LANGUAGE=es-ES

# --- Subtitulos (opcional) ---
OPEN_SUBTITLES_API_KEY=
OPEN_SUBTITLES_USER_AGENT=streams_app v1.0
SUBDL_API_KEY=
SUBTITLE_LANGS=ES
SUBTITLE_PROVIDER_TIMEOUT_MS=8000
SUBTITLE_PROVIDER_REDIRECT_TIMEOUT_MS=3500

# --- Live TV ---
# Ruta a las listas M3U. Si esta vacio usa ./lists/ del repo
LIVE_TV_LISTS_DIR=

# --- Prowlarr (opcional, mejora busqueda de torrents) ---
# Levantar con: docker compose up -d
# Obtener API key en: Prowlarr > Settings > General
PROWLARR_ENABLED=true
PROWLARR_URL=http://localhost:9696
PROWLARR_API_KEY=
PROWLARR_TIMEOUT_MS=12000
PROWLARR_MAX_PER_QUERY=120
PROWLARR_MAX_STREAMS=160

# --- Reliability ---
RELIABILITY_MIN_SAMPLES=3
RELIABILITY_CIRCUIT_THRESHOLD=4
RELIABILITY_CIRCUIT_BASE_MS=900000
RELIABILITY_MAX_SOURCES_PER_PROVIDER=1800

# --- Playback / HLS ---
PLAYBACK_MAX_SESSIONS=5
PLAYBACK_MAX_CONNS=36
PLAYBACK_ATTEMPT_LOG_LIMIT=500
PLAYBACK_HLS_ENABLED=true
PLAYBACK_HLS_FORCE=false
PLAYBACK_HLS_START_TIMEOUT_MS=90000
PLAYBACK_HLS_STALL_MS=60000
PLAYBACK_HLS_STALL_MIN_SPEED_BPS=20000
PLAYBACK_HLS_SEGMENT_SECONDS=6
PLAYBACK_HLS_CRF=23
PLAYBACK_HLS_VIDEO_MAXRATE_KBPS=0
PLAYBACK_HLS_READY_SEGMENTS=4
PLAYBACK_HLS_PRESET=ultrafast
PLAYBACK_HLS_MAX_HEIGHT=1080
PLAYBACK_HLS_DIR=
# TTL de sesiones de playback en ms (default 10 min = 600000)
PLAYBACK_SESSION_TTL_MS=

# --- ffmpeg ---
# En Windows con choco: C:\ProgramData\chocolatey\bin\ffmpeg.exe
# En Linux/Mac: ffmpeg (si esta en PATH)
FFMPEG_PATH=ffmpeg
